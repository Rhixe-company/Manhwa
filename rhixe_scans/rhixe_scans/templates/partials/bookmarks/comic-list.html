{% load static %} {% block bookmarkComics %}
<div id="comic-list" class="grid grid-cols-4 justify-between gap-4 p-4">
  <section class="col-span-3">
    <div>{% include 'partials/message.html' %}</div>

    <div>
      {% if comics %}
      <form class="sortable list-item" hx-trigger="end" hx-post="{% url 'bookmarks:sort' %}" hx-target="#comic-list" hx-swap="outerHTML">
        <div class="htmx-indicator">Updating...</div>
        {% include 'partials/bookmarks/comic-list-elements.html' %}
      </form>
      {% else %}
      <p>You do not have any comics in your list</p>
      {% endif %}
    </div>
    {% if comics and comics.paginator.num_pages > 1%}
    <div class="sticky bottom-0 right-0 flex w-full flex-row items-center justify-between border-t border-gray-200 bg-white p-4 dark:border-gray-700 dark:bg-gray-800">
      <div class="flex pl-1">
        <div class="mb-4 inline-flex items-center sm:mb-0">
          <button
            type="button"
            hx-get="{% url 'bookmarks:list' %}?page=1"
            hx-target="#comic-list"
            hx-swap="outerHTML"
            hx-push-url="true"
            class="inline-flex cursor-pointer justify-center rounded p-1 text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-white"
          >
            <svg class="h-7 w-7" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
            </svg>
          </button>

          <button
            type="button"
            hx-get="{% url 'bookmarks:list' %}?page={{comics.paginator.num_pages}}"
            hx-target="#comic-list"
            hx-swap="outerHTML"
            hx-push-url="true"
            class="mr-2 inline-flex cursor-pointer justify-center rounded p-1 text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-white"
          >
            <svg class="h-7 w-7" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
            </svg>
          </button>
          <span class="text-sm font-normal text-gray-500 dark:text-gray-400"
            >Showing
            <span class="font-semibold text-gray-900 dark:text-white">{{comics.number}}</span>
            of
            <span class="font-semibold text-gray-900 dark:text-white">{{comics.paginator.num_pages}}</span></span
          >
        </div>
        <div class="mb-4 ml-0 mr-4 inline-flex items-center pl-2 sm:mb-0">
          {% for page_number in comics.paginator.get_elided_page_range %}
          <!-- page number -->
          {% if page_number == comics.paginator.ELLIPSIS %}
          <!-- number -->
          <button type="button" class="btn join-item btn-sm">{{page_number}}</button>
          {% else %}
          <button
            type="button"
            hx-get="{% url 'bookmarks:list' %}?page={{ page_number }}"
            hx-target="#comic-list"
            hx-swap="outerHTML"
            hx-push-url="true"
            class="{% if page_number == comics.number %}btn-active {% else %} {% endif %} btn join-item btn-sm"
          >
            {{page_number}}
          </button>
          {% endif %} {% endfor %}
        </div>
      </div>
      <div class="flex pr-1">
        <div class="flex items-center space-x-3">
          {% if comics.has_previous %}
          <button
            type="button"
            hx-get="{% url 'bookmarks:list' %}?page={{ comics.previous_page_number }}"
            hx-target="#comic-list"
            hx-swap="outerHTML"
            hx-push-url="true"
            class="inline-flex flex-1 items-center justify-center rounded-lg bg-primary-700 px-3 py-2 text-center text-sm font-medium text-white hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"
          >
            <svg class="-ml-1 mr-1 h-5 w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
            </svg>
            Previous
          </button>
          {% else %}
          <button
            type="button"
            class="btn-disabled inline-flex flex-1 items-center justify-center rounded-lg bg-gray-700 px-3 py-2 text-center text-sm font-medium text-white hover:bg-gray-800 focus:ring-4 focus:ring-gray-300 dark:bg-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-800"
          >
            <svg class="-ml-1 mr-1 h-5 w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>
            </svg>
            Previous
          </button>
          {% endif %}
          <!-- next -->
          {% if comics.has_next %}
          <button
            type="button"
            hx-get="{% url 'bookmarks:list' %}?page={{ comics.next_page_number }}"
            hx-target="#comic-list"
            hx-swap="outerHTML"
            hx-push-url="true"
            class="inline-flex flex-1 items-center justify-center rounded-lg bg-primary-700 px-3 py-2 text-center text-sm font-medium text-white hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"
          >
            Next
            <svg class="-mr-1 ml-1 h-5 w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
            </svg>
          </button>
          {% else %}
          <button
            type="button"
            class="inline-flex flex-1 items-center justify-center rounded-lg bg-gray-700 px-3 py-2 text-center text-sm font-medium text-white hover:bg-gray-800 focus:ring-4 focus:ring-gray-300 dark:bg-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-800"
          >
            Next
            <svg class="-mr-1 ml-1 h-5 w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
            </svg>
          </button>
          {% endif %}
        </div>
      </div>
    </div>
    {% endif %}
  </section>
  <section class="col-span-1 ring-offset-1">{% include 'partials/bookmarks/search.html' %}</section>
</div>

{% if request.method == 'POST' %}

<input type="text" id="comictitle-input" name="comictitle" placeholder="Enter a Comic" hx-swap-oob="true" class="form-charinput form-control mr-2" />
{% endif %} {% endblock bookmarkComics %}
